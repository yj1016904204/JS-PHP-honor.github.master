window.addEventListener("load",()=>{var e=document.querySelector("[name=phone]"),n=!1,o=document.querySelector("form"),t=document.querySelectorAll(".prompt"),l=document.querySelector("[name=password]"),r=!1,s=document.querySelector("[name=repassword]"),a=!1,u=document.querySelector("[name=date]"),c=!1,i=document.querySelector(".random");i.onclick=function(){var e=randomFour();this.innerHTML=e},i.click();var d=document.querySelector("[name=verification]");d.onblur=function(){d.value==i.innerHTML?t[1].style.display="none":(t[1].style.display="block",this.focus())},e.onblur=function(){/^(1|\+861)[3-8]{1}\d{9}$/.test(e.value)?(n=!0,t[0].style.display="none"):(t[0].style.display="block",n=!1)},l.onblur=function(){/^[(a-z)||(A-Z)]\w{7,30}$/.test(l.value)?(r=!0,t[2].style.display="none"):(t[2].style.display="block",r=!1)},s.onblur=function(){s.value==l.value?(a=!0,t[3].style.display="none"):(t[3].style.display="block",a=!1)},u.onblur=function(){u.value?(c=!0,t[4].style.display="none"):(t[4].style.display="block",c=!1)};var y=document.querySelectorAll(".eyes");for(let n=0;n<y.length;n++){let e=[0,0];y[n].onclick=function(){0==e[n]?(this.parentNode.firstElementChild.type="text",this.style="background:url(../img/password_eyeon.svg);background-size:contain;",e[n]=1):(this.parentNode.firstElementChild.type="password",this.style="background:url(../img/password_eyeoff.svg);background-size:contain;",e[n]=0)}}o.onsubmit=function(){return n&&r&&a&&c?ajax({url:"../php/register.php",type:"POST",data:`phone=${e.value}&password=${l.value}&date=${u.value}`,success:function(e){e?alert("注册成功，前往登录界面"):alert("该手机号已注册，前往登录界面"),location.href="./login.html"}}):(e.focus(),l.focus(),s.focus()),!1}});